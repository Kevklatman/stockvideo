{"error":{"message":"Purchase ID not found in payment metadata","name":"PaymentError","stack":"PaymentError: Purchase ID not found in payment metadata\n    at Function.handleSuccessfulPayment (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:393:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:227:22)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:108:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"},"level":"error","message":"Webhook handling failed:","timestamp":"2024-11-02 23:19:10"}
{"error":{"message":"Purchase ID not found in payment metadata","name":"PaymentError","stack":"PaymentError: Purchase ID not found in payment metadata\n    at Function.handleSuccessfulPayment (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:393:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:227:22)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:108:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"},"level":"error","message":"Webhook handling failed:","timestamp":"2024-11-02 23:22:38"}
