{"error":{"purchaseId":"f31f350e-caf5-438c-aa7b-61e9b4269c01"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 10:36:13","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 10:36:13","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"error":{"message":"The parameter `return_url` cannot be passed when creating a PaymentIntent unless `confirm` is set to true.","name":"Error","stack":"Error: The parameter `return_url` cannot be passed when creating a PaymentIntent unless `confirm` is set to true.\n    at Function.generate (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/Error.js:10:20)\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/RequestSender.js:105:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 10:36:56","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"7cab8dda-6c9e-4901-8883-46ea478da582"}
{"error":{"error":{"message":"The parameter `return_url` cannot be passed when creating a PaymentIntent unless `confirm` is set to true.","name":"Error","stack":"Error: The parameter `return_url` cannot be passed when creating a PaymentIntent unless `confirm` is set to true.\n    at Function.generate (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/Error.js:10:20)\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/RequestSender.js:105:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 10:40:27","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"7cab8dda-6c9e-4901-8883-46ea478da582"}
{"error":{"error":{"message":"Can only apply an application_fee_amount when the PaymentIntent is attempting a direct payment (using an OAuth key or Stripe-Account header) or destination payment (using `transfer_data[destination]`).","name":"Error","stack":"Error: Can only apply an application_fee_amount when the PaymentIntent is attempting a direct payment (using an OAuth key or Stripe-Account header) or destination payment (using `transfer_data[destination]`).\n    at Function.generate (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/Error.js:10:20)\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/stripe/cjs/RequestSender.js:105:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 10:43:04","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"7cab8dda-6c9e-4901-8883-46ea478da582"}
{"error":{"purchaseId":"0e5e8b2b-e9a3-45e2-bf07-d0184d3fcdeb"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 10:54:19","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 10:54:19","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"purchaseId":"c36e64a0-9296-40fe-b6ce-667d0905b462"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:03:50","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"90aa4cfc-4d45-4d22-9e67-5c3c0eb48613"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:03:50","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"90aa4cfc-4d45-4d22-9e67-5c3c0eb48613"}
{"error":{"purchaseId":"9d4fac92-96c7-4919-adf2-bcf94992bc2a"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:07:19","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"b3b1bcc7-12b8-40ba-b4de-c4d41d94d00d"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:07:19","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"b3b1bcc7-12b8-40ba-b4de-c4d41d94d00d"}
{"error":{"purchaseId":"71b2813c-e0f1-4735-af1d-85aa789b1ea4"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:07:35","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"09e875c7-b74b-4a0d-9d77-ef9e7d584b7b"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:07:35","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"09e875c7-b74b-4a0d-9d77-ef9e7d584b7b"}
{"error":{"purchaseId":"b26f3417-419b-4d98-8df4-d2401b345324"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:10:49","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"2c67e4d7-28ab-42f7-923e-d427abd101e4"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:10:49","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"2c67e4d7-28ab-42f7-923e-d427abd101e4"}
{"error":{"purchaseId":"c36e64a0-9296-40fe-b6ce-667d0905b462"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:14:27","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"90aa4cfc-4d45-4d22-9e67-5c3c0eb48613"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:14:27","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"90aa4cfc-4d45-4d22-9e67-5c3c0eb48613"}
{"error":{"purchaseId":"5eb50bf8-b561-4046-afd7-72f760c2b645"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:18:15","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:18:15","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"3459bf3d-30c7-4e70-9b5f-b1f74ff83958"}
{"error":{"purchaseId":"968448e2-5b44-4fcf-a226-2d23920b76b2"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 11:19:47","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"4ddfc9d8-b931-4704-96b4-63bb50c23d1d"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:112:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:60:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 11:19:47","userId":"cff021c3-280f-4adc-9862-f7b9cc79192b","videoId":"4ddfc9d8-b931-4704-96b4-63bb50c23d1d"}
{"error":{"purchaseId":"0e9e4268-c02f-468a-b944-4f690e961522"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 15:22:05","userId":"a54823d0-0b0c-4229-b460-51b8d0d4e303","videoId":"4ddfc9d8-b931-4704-96b4-63bb50c23d1d"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:113:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:61:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 15:22:05","userId":"a54823d0-0b0c-4229-b460-51b8d0d4e303","videoId":"4ddfc9d8-b931-4704-96b4-63bb50c23d1d"}
{"error":{"purchaseId":"224d14da-8522-4548-81b9-0837d2988194"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 15:50:08","userId":"a54823d0-0b0c-4229-b460-51b8d0d4e303","videoId":"b34906bb-3929-45de-951e-5273c3069ef3"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:113:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:61:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 15:50:08","userId":"a54823d0-0b0c-4229-b460-51b8d0d4e303","videoId":"b34906bb-3929-45de-951e-5273c3069ef3"}
{"error":{"purchaseId":"32da3352-2712-4618-b9c0-b44822a3738d"},"level":"error","message":"Purchase already in progress","operation":"createPaymentIntent","timestamp":"2024-11-03 16:57:00","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"7cab8dda-6c9e-4901-8883-46ea478da582"}
{"error":{"error":{"message":"Purchase already in progress","name":"PaymentError","stack":"PaymentError: Purchase already in progress\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:113:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EntityManager.transaction (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/src/entity-manager/EntityManager.ts:154:28)\n    at async Function.createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:61:14)\n    at async createPaymentIntent (/Users/kevinklatman/Development/Code/stockvideo/server/src/controllers/payment.controller.ts:33:29)"}},"level":"error","message":"Payment intent creation failed","operation":"createPaymentIntent","timestamp":"2024-11-03 16:57:00","userId":"3da68182-3e66-4c03-b9e9-5cea859d090d","videoId":"7cab8dda-6c9e-4901-8883-46ea478da582"}
{"error":{"metadata":{}},"eventId":"evt_3QHE3ORp6s2wyKm70Ucdzvp3","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:21:59"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE3fRp6s2wyKm7IcWACV2d","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:15"}
{"error":{"error":{"message":"Unsupported webhook event type: price.created","name":"Error","stack":"Error: Unsupported webhook event type: price.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE3fRp6s2wyKm7zWSnXGpm","eventType":"price.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:15"}
{"error":{"metadata":{}},"eventId":"evt_3QHE3iRp6s2wyKm70AasvOy4","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:22:20"}
{"error":{"error":{"message":"Unsupported webhook event type: checkout.session.completed","name":"Error","stack":"Error: Unsupported webhook event type: checkout.session.completed\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE3kRp6s2wyKm73fV4tv3l","eventType":"checkout.session.completed","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:20"}
{"error":{"error":{"message":"Unsupported webhook event type: payment_method.attached","name":"Error","stack":"Error: Unsupported webhook event type: payment_method.attached\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE40Rp6s2wyKm7eM64jJt6","eventType":"payment_method.attached","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:37"}
{"error":{"error":{"message":"Unsupported webhook event type: customer.created","name":"Error","stack":"Error: Unsupported webhook event type: customer.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE41Rp6s2wyKm7aZIq9mTi","eventType":"customer.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:37"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE41Rp6s2wyKm7UxBHyqWp","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:37"}
{"error":{"error":{"message":"Unsupported webhook event type: plan.created","name":"Error","stack":"Error: Unsupported webhook event type: plan.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE41Rp6s2wyKm7740Sn2a4","eventType":"plan.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:37"}
{"error":{"error":{"message":"Unsupported webhook event type: price.created","name":"Error","stack":"Error: Unsupported webhook event type: price.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE41Rp6s2wyKm7qPRe06vp","eventType":"price.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:37"}
{"error":{"error":{"message":"Unsupported webhook event type: customer.updated","name":"Error","stack":"Error: Unsupported webhook event type: customer.updated\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7zqpKtKXi","eventType":"customer.updated","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: customer.subscription.created","name":"Error","stack":"Error: Unsupported webhook event type: customer.subscription.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7cx6bAAoM","eventType":"customer.subscription.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"metadata":{}},"eventId":"evt_3QHE42Rp6s2wyKm71WSsoMBc","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: invoice.created","name":"Error","stack":"Error: Unsupported webhook event type: invoice.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7VM4uP5gU","eventType":"invoice.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: invoice.finalized","name":"Error","stack":"Error: Unsupported webhook event type: invoice.finalized\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7R3JMc6kw","eventType":"invoice.finalized","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: invoice.paid","name":"Error","stack":"Error: Unsupported webhook event type: invoice.paid\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7SFFDIUnU","eventType":"invoice.paid","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: invoice.payment_succeeded","name":"Error","stack":"Error: Unsupported webhook event type: invoice.payment_succeeded\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE44Rp6s2wyKm7HfM58EU6","eventType":"invoice.payment_succeeded","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:22:40"}
{"error":{"error":{"message":"Unsupported webhook event type: payment_intent.canceled","name":"Error","stack":"Error: Unsupported webhook event type: payment_intent.canceled\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_3QHE4eRp6s2wyKm71M8sRTVq","eventType":"payment_intent.canceled","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:23:17"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE5MRp6s2wyKm73PB25rJQ","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:24:00"}
{"error":{"error":{"message":"Unsupported webhook event type: price.created","name":"Error","stack":"Error: Unsupported webhook event type: price.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE5MRp6s2wyKm71KRsuFoT","eventType":"price.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:24:00"}
{"error":{"error":{"message":"Unsupported webhook event type: charge.pending","name":"Error","stack":"Error: Unsupported webhook event type: charge.pending\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_3QHE5PRp6s2wyKm71KTQGfAu","eventType":"charge.pending","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:24:04"}
{"error":{"error":{"message":"Unsupported webhook event type: checkout.session.completed","name":"Error","stack":"Error: Unsupported webhook event type: checkout.session.completed\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE5PRp6s2wyKm7dghLPcMk","eventType":"checkout.session.completed","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:24:04"}
{"error":{"metadata":{}},"eventId":"evt_3QHE5PRp6s2wyKm714nfgEec","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:24:14"}
{"error":{"error":{"message":"Unsupported webhook event type: checkout.session.async_payment_succeeded","name":"Error","stack":"Error: Unsupported webhook event type: checkout.session.async_payment_succeeded\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE5bRp6s2wyKm7MyHLOf9Q","eventType":"checkout.session.async_payment_succeeded","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:24:15"}
{"error":{"metadata":{}},"eventId":"evt_3QHE6IRp6s2wyKm71LMa0dY3","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:24:59"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE7ZRp6s2wyKm7z0p5g0Xy","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:26:17"}
{"error":{"error":{"message":"Unsupported webhook event type: price.created","name":"Error","stack":"Error: Unsupported webhook event type: price.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE7aRp6s2wyKm7RCXgradL","eventType":"price.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:26:18"}
{"error":{"error":{"message":"Unsupported webhook event type: checkout.session.completed","name":"Error","stack":"Error: Unsupported webhook event type: checkout.session.completed\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHE7eRp6s2wyKm7KQoy1QJs","eventType":"checkout.session.completed","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:26:22"}
{"error":{"metadata":{}},"eventId":"evt_3QHE7cRp6s2wyKm7189TZEdS","eventType":"payment_intent.succeeded","level":"error","message":"Invalid payment metadata","timestamp":"2024-11-03 17:26:22"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:442:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:466:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHECzRp6s2wyKm7AYktD8WD","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:31:53"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:443:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:467:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEJhRp6s2wyKm7kiWyKZoU","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:38:49"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:443:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:467:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEKERp6s2wyKm7QVsj9r8B","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:39:22"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:443:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:467:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEUYRp6s2wyKm7orlyy7mq","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:50:02"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:443:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:467:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEUpRp6s2wyKm7TbKzUddy","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:50:20"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:443:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:467:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEW0Rp6s2wyKm7deAfX7Gz","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 17:51:32"}
{"error":{"error":{"message":"Unsupported webhook event type: product.created","name":"Error","stack":"Error: Unsupported webhook event type: product.created\n    at Function.validateWebhookEvent (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:444:13)\n    at Function.handleWebhook (/Users/kevinklatman/Development/Code/stockvideo/server/src/services/payment.service.ts:468:10)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/src/app.ts:119:28\n    at Layer.handle [as handle_request] (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/express/lib/router/route.js:149:13)\n    at /Users/kevinklatman/Development/Code/stockvideo/server/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:238:16)\n    at done (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/kevinklatman/Development/Code/stockvideo/server/node_modules/raw-body/index.js:287:7)"}},"eventId":"evt_1QHEoCRp6s2wyKm7Xg0yW6Kx","eventType":"product.created","level":"error","message":"Error processing webhook","timestamp":"2024-11-03 18:10:20"}
